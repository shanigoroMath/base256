<!DOCTYPE html>


<html>


<!------------------情報------------------>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2025年東大理系数学第5問を徹底解剖！|東大理系数学の解剖|BASE256</title>
    <link rel="stylesheet" href="../../../css/style.css">
    
    <!--latex読み込み-->
    
    <style>
    mjx-container {
        line-height: normal !important;
    }
    mjx-container[jax="SVG"] {
        overflow-x: auto;
    }
    </style>

    <script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$','$$']]
        },
        svg: { fontCache: 'global' }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    
</head>


<body data-problem="2025-5"  id="top">


    <!------------------ヘッダ------------------>
    <header>
        
        <!--ロゴ(消した)-->
        

        <!--ナビ(消した)-->
        

    </header>
        <!-- ===== 右サイドナビ ===== -->
<button id="side-toggle">☰</button>

<aside id="side-nav">
  <div id="problem-badge"></div>
  <button id="side-close">×</button>
  <nav class="td">
    <ul id="side-nav-list"></ul>
  </nav>
</aside>
    <!------------------ヘッダ終了-------------->


    <!------------------メイン------------------>
    <main>
        
        <a class="gouts" href="../uts_math.html"></a>
        <div class="paragraph">
            
            <h2><div>東大理系数学 2025-5</div></h2>

            <div class="emphbox">
                <p>$n$ を $2$ 以上の整数とする。$1$ から $n$ までの数字が書かれた札が各 $1$ 枚ずつ合計 $n$ 枚あり，横一列におかれている。$1$ 以上 $(n-1)$ 以下の整数 $i$ に対して，次の操作 $(T_i)$ を考える。<br>
<br>
$(T_i)$：左から $i$ 番目の札の数字が，左から $(i+1)$ 番目の札の数字よりも大きければ，これら $2$ 枚の札の位置を入れかえる。そうでなければ，札の位置をかえない。<br>
<br>
最初の状態において札の数字は左から $A_1, A_2, \cdots, A_n$ であったとする。この状態から $(n-1)$ 回の操作 $(T_1),(T_2),\cdots,(T_{n-1})$ を順に行った後，続けて $(n-1)$ 回の操作 $(T_{n-1}),\cdots,(T_2),(T_1)$ を順に行ったところ，札の数字は左から $1,2,\cdots,n$ と小さい順に並んだ。以下の問いに答えよ。<br>
<br>
(1)$A_1$ と $A_2$ のうち少なくとも一方は $2$ 以下であることを示せ。<br>
<br>
(2)最初の状態としてありうる札の数字の並び方 $A_1, A_2, \cdots, A_n$ の総数を $c_n$ とする。$n$ が $4$ 以上の整数であるとき，$c_n$ を $c_{n-1}$ と $c_{n-2}$ を用いて表せ。<br></p>
            </div>

        </div>

        <div class="paragraph">

            <h2><div>解答例</div></h2>

            <p>(1)
                <div class="toggle-box">
                    <input type="checkbox" id="2025-5-1">
                    <label for="2025-5-1"
                    class="toggle-label">▶ 解答例(スキャン画像はありません)</label>
                    <div class="toggle-content">   
                        <p>札の位置を左から#1~#n,札を[1]~[n]とする。</p>
                        
                        <p>・始めの$(T_1)...(T_{n-1})$で、#1は$A_1$または$A_2$</p>

                        <p>・次の$(T_{n-1})...(T_2)$で、#1は不変</p>

                        <p>・最後の$(T_1)$で、#1の「$A_1$または$A_2$」は、#1か#2へ移る</p>

                        <p>結果的に#1に[1]、#2に[2]がある必要があるので、$A_1$ と $A_2$ のうち少なくとも一方は「[1]か[2]」。□</p>
                    </div>
                </div>
            </p>
            
            <p>(2)
                <div class="toggle-box">
                    <input type="checkbox" id="2025-5-2">
                    <label for="2025-5-2"
                    class="toggle-label">▶ 解答例(スキャン画像はありません)</label>
                    <div class="toggle-content">   
                        <p>札の数字を小さい順に並べることを「ソート」と書く。（※数字が等差数列になっていなくともそう呼ぶことにする）また、数字が3以上の札を[N]とする。</p>

                        <p>(i)#1が[1]のとき　：　#2~#nがソート可能なら良いので、$c_{n-1}$通りある。</p>

                        <p>(ii)#2が[1]のとき　：　1回目の$(T_1)$で#1は[1]になる。よって最初に#1と#3~#nがソート可能であればよく、$c_{n-1}$通りある。</p>

                        <p>(iii)#1が[2]で、#2が[X]のとき　：　同様に考えてから(ii)のパターンを除き、$c_{n-1}-c_{n-2}$通り。</p>

                        <p>(iv)#1が[X]で、#2が[2]のとき　：　同様に考えてから(i)のパターンを除き、$c_{n-1}-c_{n-2}$通り。</p>

                        <p>以上足し合わせて、$\underline{\boldsymbol{c_n=4c_{n-2}-2c_{n-2}}}$</p>
                    </div>
                </div>
            </p>

        </div>

        <div class="paragraph">

            <h2><div>問題の背景</div></h2>

            <p>情報Iのプログラミングでも登場する「ソートアルゴリズム」を背景にした問題です。今回の設定は「バブルソート」に一番近いようです。quizknockの解説を貼っておきます：</p>

            <iframe width="560" height="315" src="https://www.youtube.com/embed/JYAo7Ng5bqk?si=PmiBsZUtDdMRlsyE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

            <p>また、他のアルゴリズムを一覧にしたシミュレーターも貼っておきます。興味のある方は色々いじってみると楽しいかもしれません。</p>

            リンク：<a href="https://www.toptal.com/developers/sorting-algorithms">https://www.toptal.com/developers/sorting-algorithms</a>
        </div>

        <div class="paragraph">

            <h2><div>類題紹介</div></h2>

            <p>「名前のある数列/漸化式」です。</p>

            <div class="emphbox">$1,2,3,\cdots,n$ を並び替えて出来る数列$c_1,c_2,c_3,\cdots,c_n$ について、$1$以上$n$以下の任意の整数$i$に対し$c_i\neq i$ が成り立つようなものの個数を$D_n$とする。<br>$D_n$を$D_{n-2}$と$D_{n-1}$および$n$を用いて表せ。<br><br>（完全順列、有名問題）</div>

            <div class="emphbox">$n$ を正の整数とする。赤玉と白玉がそれぞれ $n$ 個ずつ入った $1$ つの袋から $1$ 個の玉を取り出す操作を考える。取り出した玉はもとに戻さず，袋の中が空になるまでこの操作を繰り返す。$i=1,2,\cdots,2n$ として，$i$ 回の操作後に取り出した赤玉と白玉の個数をそれぞれ $r_i,\ w_i$ とする。また，次の条件を満たす場合の数を $a_n$ とする。<br>
<br>
すべての $i=1,2,\cdots,2n$ に対して，$r_i \ge w_i$<br>
<br>
(1)　$a_3,\ a_4,\ a_5$ を求めよ。<br>
<br>
(2)　$a_n$ を求めよ。<br>
<br>
(3)　${}_{2n}C_n$ を二項係数とするとき，$\displaystyle\frac{1}{2\sqrt{n}} \le \frac{{}_{2n}C_n}{4^n} \le \frac{1}{\sqrt{2n+1}}$ を示せ。<br>
<br>
(4)　$N$ を正の整数とするとき，$\displaystyle\frac{N}{2(N+1)} \le \sum_{n=1}^{N} \frac{a_n}{4^n\cdot\sqrt{n}} \le \frac{N}{\sqrt{2}(N+1)}$ を示せ。<br><br>（出典不明、カタラン数、入試問題）</div>

        </div>

        <a class="gouts" href="../uts_math.html"></a>

    </main>
    <!------------------メイン終了-------------->


    <!------------------フッタ------------------>
    <footer>

        

        <!--権利表示-->
        <p class="copyright">&copy; <span id="year"></span> Shanigoro</p>
<script>
  document.getElementById("year").textContent = new Date().getFullYear();
</script>

    </footer>
    <!------------------フッタ終了-------------->
<script>
const badge = document.getElementById("problem-badge");
const problem = document.body.dataset.problem;

if (problem) {
  badge.textContent = problem;
  badge.style.display = "block";
}

document.addEventListener("DOMContentLoaded", () => {

  const navList = document.getElementById("side-nav-list");
  const headers = document.querySelectorAll("main h2");

  // h2 から目次生成
  headers.forEach((h, i) => {
    const id = "section-" + i;
    h.id = id;

    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = "#" + id;
    a.textContent = h.innerText.replace(/^>\s*/, "");
    li.appendChild(a);
    navList.appendChild(li);
  });

  // 現在位置ハイライト
  const links = navList.querySelectorAll("a");

  window.addEventListener("scroll", () => {
    let current = "";
    headers.forEach(h => {
      if (h.getBoundingClientRect().top < 120) {
        current = h.id;
      }
    });

    links.forEach(a => {
      a.classList.toggle(
        "active",
        a.getAttribute("href") === "#" + current
      );
    });
  });

  // 開閉処理
  document.getElementById("side-toggle").onclick = () =>
    document.getElementById("side-nav").classList.add("open");

  document.getElementById("side-close").onclick = () =>
    document.getElementById("side-nav").classList.remove("open");
});
</script>
<a href="#top" class="go-top-float">▲</a>
<script>
const gotop = document.querySelector('.go-top-float');
window.addEventListener('scroll', () => {
  if (window.scrollY > 400) {
    gotop.classList.add('show');
  } else {
    gotop.classList.remove('show');
  }
});
</script>

</body>


</html>